<!DOCTYPE html><html lang="zh"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Data Structures and Algorithms Using Python 学习记录(1) | Hexo</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Data Structures and Algorithms Using Python 学习记录(1)</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Data Structures and Algorithms Using Python 学习记录(1)</h1><div class="post-meta">Apr 8, 2016<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><h3 id="Chapter-6：Linked-Structures-6-1-6-4"><a href="#Chapter-6：Linked-Structures-6-1-6-4" class="headerlink" title="Chapter 6：Linked Structures 6.1-6.4"></a>Chapter 6：Linked Structures 6.1-6.4</h3><h4 id="1-结点的定义"><a href="#1-结点的定义" class="headerlink" title="1 结点的定义"></a>1 结点的定义</h4><ul>
<li>定义结点类,初始化中有 data 参数,初始化的时候就要直接赋值.next 属性要等到类的实例创建完之后,通过点语法赋值.</li>
<li>一个结点类包含两个属性,数据部分（data）和结点部分（next）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNodes</span><span class="params">(object)</span>:</span></div><div class="line">    </div><div class="line">    <span class="comment"># 在参数前加上 * 将多个参数放入元组中.</span></div><div class="line">    <span class="comment"># 加上 ** 将多个参数放入字典中</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, data)</span>:</span></div><div class="line">        self.data = data</div><div class="line">        self.next = <span class="keyword">None</span></div><div class="line">    name = <span class="string">''</span></div><div class="line">    </div><div class="line">    <span class="comment"># 私有方法</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__print</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">print</span> &#123;<span class="string">'node.name:'</span>: self.name,</div><div class="line">                <span class="string">'node.data:'</span>: self.data&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">description</span><span class="params">(self)</span>:</span></div><div class="line">        self.__print()</div><div class="line">    <span class="comment"># 实例变量,在类内部使用,不能在外部直接访问(加横线是私有,不加外部也可以访问)</span></div><div class="line">    <span class="comment"># 单下划线开头的变量只有类对象和子类的对象可以访问</span></div><div class="line">    <span class="comment"># 双下划线开头的变量只有类对象自己能访问</span></div><div class="line">    member = <span class="number">1</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_member</span><span class="params">(self)</span>:</span></div><div class="line">        self.member += <span class="number">1</span></div><div class="line"></div><div class="line">	<span class="comment"># 定义类的实例,初始赋值的话,就可以直接访问属性值.</span></div><div class="line">	<span class="comment"># python 可以多重继承</span></div></pre></td></tr></table></figure>
<h4 id="2-结点的初始化"><a href="#2-结点的初始化" class="headerlink" title="2 结点的初始化"></a>2 结点的初始化</h4><ul>
<li>结点的头指针和头结点</li>
</ul>
<ul>
<li>头指针:链表中第一个结点的存储位置.整个链表的存取必须是从头指针开始进行的.之后的每一个结点都是上一个的后继指针指向的位置. 头指针是链表的必要元素</li>
<li>为了方便操作,在单链表的第一个结点前附设一个结点,称为头结点.头结点的数据域可以不存储任何信息.</li>
<li>书中用的 head 指的是头指针</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 新建3个结点</span></div><div class="line">a = ListNodes(<span class="number">1</span>)</div><div class="line">b = ListNodes(<span class="number">2</span>)</div><div class="line">c = ListNodes(<span class="number">12</span>)</div><div class="line"></div><div class="line"><span class="comment"># 保存类实例变量名,后续对结点进行操作时,方便查找</span></div><div class="line">a.name = <span class="string">'a'</span></div><div class="line">b.name = <span class="string">'b'</span></div><div class="line">c.name = <span class="string">'c'</span></div><div class="line"></div><div class="line">a.next = b</div><div class="line">b.next = c</div><div class="line"></div><div class="line"><span class="comment"># 判断类继承关系</span></div><div class="line"><span class="comment"># print issubclass(ListNodes, object)</span></div><div class="line"><span class="comment"># 判断类实例是否包含某个属性/类型</span></div><div class="line"><span class="comment"># print hasattr(a, 'data')</span></div><div class="line"><span class="comment"># print isinstance(a, ListNodes)</span></div></pre></td></tr></table></figure>
<h4 id="3-结点的遍历（有序和无序类似）"><a href="#3-结点的遍历（有序和无序类似）" class="headerlink" title="3 结点的遍历（有序和无序类似）"></a>3 结点的遍历（有序和无序类似）</h4><ul>
<li>结点的遍历 O(n) Traversing the Nodes</li>
</ul>
<ul>
<li>每一次遍历是一个单独的过程</li>
<li>对结点的各种操作时,参数要指定头结点,后续的查找也一样</li>
<li>遍历的过程中,要指定一个临时结点来保存每次的新值,查找也类似</li>
<li>用 while 判断反面情况比直接用 if-else 判断正面情况简洁,同时要判断结点非空</li>
<li>后续的操作中，为了方便查看结果，都需要遍历，因此每次需要返回头指针</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">traversal</span><span class="params">(head)</span>:</span></div><div class="line">    curNode = head</div><div class="line">    <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</div><div class="line">       <span class="comment"># print curNode.data</span></div><div class="line">        curNode.description()</div><div class="line">        curNode = curNode.next</div><div class="line">        </div><div class="line"><span class="comment"># 遍历查看结点</span></div><div class="line">traversal(a)</div><div class="line"><span class="comment"># 输出</span></div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'a'</span>, <span class="string">'node.data:'</span>: <span class="number">1</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'b'</span>, <span class="string">'node.data:'</span>: <span class="number">2</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'c'</span>, <span class="string">'node.data:'</span>: <span class="number">12</span>&#125;</div></pre></td></tr></table></figure>
<h4 id="4-插入新节点"><a href="#4-插入新节点" class="headerlink" title="4 插入新节点"></a>4 插入新节点</h4><h4 id="4-1-无序"><a href="#4-1-无序" class="headerlink" title="4.1 无序"></a>4.1 无序</h4><h5 id="头插法-Prepending-Nodes"><a href="#头插法-Prepending-Nodes" class="headerlink" title="头插法 Prepending Nodes"></a>头插法 Prepending Nodes</h5><ul>
<li>指定新结点的 next 结点</li>
<li>重置头结点</li>
<li>原本的头结点是一个单独的结点,它的指针指向 a.也可以理解结点 a 就是第一个结点.</li>
<li>插入、删除、查找节点，判定的时候，是用结点的数据域进行对比判定</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">prepending</span><span class="params">(head, item)</span>:</span></div><div class="line">    newNode = ListNodes(item)</div><div class="line">    newNode.name = <span class="string">'newNode'</span></div><div class="line">    newNode.next = head</div><div class="line">    head = newNode</div><div class="line">    <span class="keyword">return</span> head</div><div class="line"></div><div class="line"><span class="comment"># 插入新节点，数据域为0</span></div><div class="line">traversal(prepending(a, <span class="number">0</span>))</div><div class="line"><span class="comment"># 输出</span></div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'newNode'</span>, <span class="string">'node.data:'</span>: <span class="number">0</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'a'</span>, <span class="string">'node.data:'</span>: <span class="number">1</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'b'</span>, <span class="string">'node.data:'</span>: <span class="number">2</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'c'</span>, <span class="string">'node.data:'</span>: <span class="number">12</span>&#125;</div></pre></td></tr></table></figure>
<h5 id="尾插法-Appending-Nodes"><a href="#尾插法-Appending-Nodes" class="headerlink" title="尾插法 Appending Nodes"></a>尾插法 Appending Nodes</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 要指定 head 和 tail 两个参数。结束之后要同时调整 head 和 tail 的位置</span></div><div class="line"><span class="comment"># head 头指针</span></div><div class="line"><span class="comment"># tail 尾指针</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">appendingNode</span><span class="params">(head, tail, item)</span>:</span></div><div class="line">    newNode = ListNodes(item)</div><div class="line">    newNode.name = <span class="string">'newNode'</span></div><div class="line">    <span class="keyword">if</span> head <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">        head = newNode</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        tail.next = newNode</div><div class="line">    tail = newNode</div><div class="line">    <span class="keyword">return</span> head</div><div class="line"></div><div class="line"><span class="comment"># 在尾结点 c 后插入新节点</span></div><div class="line">traversal(appendingNode(a, c, <span class="number">4</span>))</div><div class="line"><span class="comment"># 输出</span></div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'a'</span>, <span class="string">'node.data:'</span>: <span class="number">1</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'b'</span>, <span class="string">'node.data:'</span>: <span class="number">2</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'c'</span>, <span class="string">'node.data:'</span>: <span class="number">12</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'newNode'</span>, <span class="string">'node.data:'</span>: <span class="number">4</span>&#125;</div></pre></td></tr></table></figure>
<h4 id="4-2-有序"><a href="#4-2-有序" class="headerlink" title="4.2 有序"></a>4.2 有序</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 1 在有序链表中插入元素Inserting Nodes</span></div><div class="line"><span class="comment"># 2 无序列表插入的时候比较简单,采用头插法或尾插法即可</span></div><div class="line"><span class="comment"># 3 插入结点的时候,要同时兼顾新节点的前后结点,所以要定义一个 preNode.还要考虑边界条件,即只有一个结点的情况</span></div><div class="line"><span class="comment"># 4 最后要重新调整头指针的位置（如果头指针位置发生变化的话）</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">insertingNode</span><span class="params">(head, item)</span>:</span></div><div class="line">    preNode = <span class="keyword">None</span></div><div class="line">    curNode = head</div><div class="line">    <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> item &gt; curNode.data:</div><div class="line">        preNode = curNode</div><div class="line">        curNode = curNode.next</div><div class="line">    newNode = ListNodes(item)</div><div class="line">    newNode.next = curNode</div><div class="line">    <span class="keyword">if</span> curNode <span class="keyword">is</span> head:</div><div class="line">        head = newNode</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        preNode.next = newNode</div><div class="line">    <span class="keyword">return</span> head</div><div class="line"><span class="comment"># 插入数据域为3的结点</span></div><div class="line">traversal(insertingNode(a, <span class="number">3</span>))</div><div class="line"><span class="comment"># 输出</span></div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'a'</span>, <span class="string">'node.data:'</span>: <span class="number">1</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'b'</span>, <span class="string">'node.data:'</span>: <span class="number">2</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'newNode'</span>, <span class="string">'node.data:'</span>: <span class="number">3</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'c'</span>, <span class="string">'node.data:'</span>: <span class="number">12</span>&#125;</div></pre></td></tr></table></figure>
<h4 id="5-移除结点-有序和无序类似"><a href="#5-移除结点-有序和无序类似" class="headerlink" title="5 移除结点(有序和无序类似)"></a>5 移除结点(有序和无序类似)</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 移除结点 Removing Nodes</span></div><div class="line"><span class="comment"># 需求: 移除 b 结点</span></div><div class="line"><span class="comment"># 思路:先要找到目标结点的前结点,然后让前结点的 next 指向后结点</span></div><div class="line"><span class="comment"># head 这里指的是 头指针</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeNode</span><span class="params">(head, target)</span>:</span></div><div class="line">    preNode = <span class="keyword">None</span></div><div class="line">    curNode = head</div><div class="line">    <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> curNode.data != target:</div><div class="line">        preNode = curNode</div><div class="line">        curNode = curNode.next</div><div class="line">    <span class="keyword">if</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</div><div class="line">        <span class="comment"># 如果删除的是第一个结点,就要调整头指针的位置</span></div><div class="line">        <span class="keyword">if</span> curNode <span class="keyword">is</span> head:</div><div class="line">            head = curNode.next</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            preNode.next = curNode.next</div><div class="line">        <span class="keyword">return</span> head</div><div class="line">    </div><div class="line"><span class="comment"># 移除数据域为2的结点，即 b 结点</span></div><div class="line">traversal(removeNode(a, <span class="number">2</span>))</div><div class="line"><span class="comment"># 输出</span></div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'a'</span>, <span class="string">'node.data:'</span>: <span class="number">1</span>&#125;</div><div class="line">&#123;<span class="string">'node.name:'</span>: <span class="string">'c'</span>, <span class="string">'node.data:'</span>: <span class="number">12</span>&#125;</div></pre></td></tr></table></figure>
<h4 id="6-查找结点"><a href="#6-查找结点" class="headerlink" title="6 查找结点"></a>6 查找结点</h4><h5 id="6-1-无序链表"><a href="#6-1-无序链表" class="headerlink" title="6.1 无序链表"></a>6.1 无序链表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 结点的查找 O(n) Searching for a Node</span></div><div class="line"><span class="comment"># 两个参数:头结点和目标结点的数据域</span></div><div class="line"><span class="comment"># 直接用 while</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">unorderedSearch</span><span class="params">(head, target)</span>:</span></div><div class="line">     curNode = head</div><div class="line">     <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> curNode.data != target:</div><div class="line">         curNode = curNode.next</div><div class="line">     <span class="keyword">return</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span></div><div class="line"><span class="comment"># 查找数据域为12的结点，即 c 结点。和数据为23的结点</span></div><div class="line"><span class="keyword">print</span> unorderedSearch(a, <span class="number">12</span>)</div><div class="line"><span class="keyword">print</span> unorderedSearch(a, <span class="number">23</span>)</div><div class="line"><span class="comment"># 输出</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="keyword">False</span></div></pre></td></tr></table></figure>
<h5 id="6-2-有序链表"><a href="#6-2-有序链表" class="headerlink" title="6.2 有序链表"></a>6.2 有序链表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 线性查找:可以利用排序的优势</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortedSearch</span><span class="params">(head, target)</span>:</span></div><div class="line">     curNode = head</div><div class="line">     <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> curNode.data &lt;= target:</div><div class="line">         <span class="keyword">if</span> curNode.data == target:</div><div class="line">             <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">         <span class="keyword">else</span>:</div><div class="line">             curNode = curNode.next</div><div class="line">     <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"><span class="comment"># 查找数据域为2的结点，</span></div><div class="line"><span class="keyword">print</span> sortedSearch(a, <span class="number">2</span>)</div><div class="line"><span class="comment"># 输出</span></div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
<h4 id="7-利用链表来实现-Bag数据结构"><a href="#7-利用链表来实现-Bag数据结构" class="headerlink" title="7 利用链表来实现 Bag数据结构"></a>7 利用链表来实现 <code>Bag</code>数据结构</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 1 利用单链表来实现 Bag 数据结构</span></div><div class="line"><span class="comment"># 2 Bag 和 Set 类似,如果同一个 key 被多次加入,可以获取 key 在 Bag 中的个数. Objective-C 中的 NSCountedSet 就是 Bag</span></div><div class="line"><span class="comment"># 3 这里 head 指的是头指针</span></div><div class="line"></div><div class="line"><span class="comment"># 私有类创建链表</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BagListNode</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, item)</span>:</span></div><div class="line">        self.item = item</div><div class="line">        self.next = <span class="keyword">None</span></div><div class="line">        </div><div class="line"><span class="comment"># 迭代器</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BagIterator</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, listHead)</span>:</span></div><div class="line">        self._curNode = listHead</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self._curNode <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">            <span class="keyword">raise</span> StopIteration</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            item = self._curNode.item</div><div class="line">            self._curNode = self._curNode.next</div><div class="line">            <span class="keyword">return</span> item</div><div class="line"></div><div class="line"><span class="comment"># 创建 bag</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bag</span>:</span></div><div class="line">    <span class="comment"># 新建空 bag</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self._head = <span class="keyword">None</span></div><div class="line">        self._size = <span class="number">0</span></div><div class="line"></div><div class="line">    <span class="comment"># bag 中元素的个数</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self._size</div><div class="line"></div><div class="line">    <span class="comment"># 检测某个元素是否在 bag 中</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__contains__</span><span class="params">(self, item)</span>:</span></div><div class="line">        curNodes = self._head</div><div class="line">        <span class="keyword">while</span> curNodes <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> curNodes.item != item:</div><div class="line">            curNodes = curNodes.next</div><div class="line">        <span class="keyword">return</span> curNodes <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="comment"># 添加新元素到 bag 中</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, item)</span>:</span></div><div class="line">        newNodes = _BagListNode(item)</div><div class="line">        newNodes.next = self._head</div><div class="line">        self._head = newNodes</div><div class="line">        self._size += <span class="number">1</span></div><div class="line"></div><div class="line">    <span class="comment"># 移除元素</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, item)</span>:</span></div><div class="line">        preNode = <span class="keyword">None</span></div><div class="line">        curNode = self._head</div><div class="line">        <span class="keyword">while</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> curNode.item != item:</div><div class="line">            preNode = curNode</div><div class="line">            curNode = curNode.next</div><div class="line">        <span class="keyword">assert</span> curNode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>, <span class="string">'The item must be in the bag'</span></div><div class="line">        self._size -= <span class="number">1</span></div><div class="line">        <span class="keyword">if</span> curNode <span class="keyword">is</span> self._head:</div><div class="line">            self._head = curNode.next</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            preNode.next = curNode.next</div><div class="line">    <span class="comment"># 迭代器</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> _BagIterator(self._head)</div></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/04/08/Python链表/" data-id="civxufgk80002gkybgk478en8" class="article-share-link">Share</a><div class="tags"><a href="/tags/Python/">Python</a><a href="/tags/数据结构/">数据结构</a><a href="/tags/链表/">链表</a></div><div class="post-nav"><a href="/2016/11/25/hello-world/" class="pre">Hello World</a><a href="/2016/03/24/ios正则表达式/" class="next">iOS正则表达式应用</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活记录/">生活记录</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/内存管理/" style="font-size: 15px;">内存管理</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/数据结构/" style="font-size: 15px;">数据结构</a> <a href="/tags/链表/" style="font-size: 15px;">链表</a> <a href="/tags/感悟/" style="font-size: 15px;">感悟</a> <a href="/tags/实习/" style="font-size: 15px;">实习</a> <a href="/tags/网易/" style="font-size: 15px;">网易</a> <a href="/tags/正则表达式/" style="font-size: 15px;">正则表达式</a> <a href="/tags/Objective-C/" style="font-size: 15px;">Objective-C</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/11/25/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/08/Python链表/">Data Structures and Algorithms Using Python 学习记录(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/24/ios正则表达式/">iOS正则表达式应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/22/网易iOS开发笔试记录/">2016 网易 iOS 开发笔试记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/20/内存管理/">Objective-C 内存管理学习记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/01/hello/">最近的生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>